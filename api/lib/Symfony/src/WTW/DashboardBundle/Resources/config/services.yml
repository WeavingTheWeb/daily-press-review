parameters:
    wtw.dashboard.dbal_connection.class:                WTW\DashboardBundle\DBAL\Connection
    wtw.dashboard.offline_cache_warmer.class:           WTW\DashboardBundle\CacheWarmer\OfflineCacheWarmer
    wtw.dashboard.offline_configuration_resource.class: WTW\DashboardBundle\Assetic\OfflineConfigurationLoader
    wtw.dashboard.bower_config_dir:                     %kernel.root_dir%/Resources

services:
    wtw.dashboard.dbal_connection:
        class:  %wtw.dashboard.dbal_connection.class%
        arguments:
            - @validator
            - @logger
        calls:
            - [ setCharset, [ %database_charset% ] ]
            - [ setHost, [ %database_host% ] ]
            - [ setUsername, [ %database_user% ] ]
            - [ setPassword, [ %database_password% ] ]
            - [ setPort, [ %database_port% ] ]
            - [ setDatabase, [ %database_name% ] ]
            - [ setEntityManager, [ @doctrine.orm.entity_manager ] ]
            - [ setTranslator, [ @translator ] ]
    wtw.dashboard.twitter_user:
        class: WTW\DashboardBundle\Security\User\Provider\TwitterUserProvider
        arguments:
            twitter_oauth: "@fos_twitter.api"
            userManager: "@fos_user.user_manager"
            validator: "@validator"
            session: "@session"
    wtw.dashboard.query_validator:
        class: WTW\DashboardBundle\Validator\Constraints\QueryValidator
        calls:
            - [ setTranslator, [ @translator ] ]
        tags:
            - { name: validator.constraint_validator, alias: wtw.validator.query }
    twig.extension.text:
        class: Twig_Extensions_Extension_Text
        tags:
            - { name: twig.extension }
