parameters:
    dashboard.dbal_connection.class:  WTW\DashboardBundle\DBAL\Connection

services:
    dashboard.dbal_connection:
        class:  %dashboard.dbal_connection.class%
        arguments:
          - @logger
        calls:
          - [ setCharset, [ %database_charset% ] ]
          - [ setHost, [ %database_host% ] ]
          - [ setUsername, [ %database_user% ] ]
          - [ setPassword, [ %database_password% ] ]
          - [ setPort, [ %database_port% ] ]
          - [ setDatabase, [ %database_name% ] ]
          - [ setEntityManager, [ @doctrine.orm.entity_manager ] ]
          - [ setTranslator, [ @translator ] ]
    dashboard.twitter_user:
        class: WTW\DashboardBundle\Security\User\Provider\TwitterUserProvider
        arguments:
            twitter_oauth: "@fos_twitter.api"
            userManager: "@fos_user.user_manager"
            validator: "@validator"
            session: "@session"
    dashboard.bower_execution_listener:
        class: WTW\DashboardBundle\EventListener\BowerEventSubscriber
        calls:
            - [ setConfigurationDir, [%dashboard.bower_config_dir%] ]
        tags:
            - { name: kernel.event_listener, event: bower.pre_exec, method: onPreExec }
    twig.extension.text:
        class: Twig_Extensions_Extension_Text
        tags:
          - { name: twig.extension }
    sp_bower.dependency_cache_warmer:
        class: %sp_bower.dependency_cache_warmer.class%
        arguments:
          - @sp_bower.bower_manager
          - @sp_bower.bower
          - %sp_bower.install_on_warmup%
